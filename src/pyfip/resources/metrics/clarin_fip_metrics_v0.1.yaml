# LIST OF CLARIN-FIP METRICS AND THEIR RESPONSE OUTPUT FORMATS
config:
  metric_specification: https://docs.google.com/spreadsheets/d/1hY2zPmFDZ6aIlY-MupK6gvynQZucOxikFDgv5YWxFyQ
  metric_version: 0.1.0
  # WS: namespces loaded from external namespaces.json file. May be included here in the tests
#  metric_namespaces:
#    cmd: http://www.clarin.eu/cmd/1
#    cmdp: http://www.clarin.eu/cmd/1/profiles/clarin.eu:cr1:p_1288172614026
metrics:
  - metric_identifier: CLFIP-F1-M1M
    metric_number: M1
    metric_name: Persistent metadata record identifier
    metric_description: What globally unique, persistent, resolvable identifiers do you use for metadata records?
    fair_principle: F1
    target: Metadata
    modality: any
    max_score: 3
    metric_tests:
      - metric_test_identifier: CLFIP-F1-M1M-1
        metric_test_name: DOI schema available from the CMDI MdSelflink.
        metric_test_score: 3
        metric_test_requirements:
          - values: '//cmd:MdSelfLink'
            x-function: 'matches($value, ''10.\d{4,9}/[-._;()/:A-Z0-9]+$'', ''i'')'
            modality: all
      - metric_test_identifier: CLFIP-F1-M1M-2
        metric_test_name: HDL schema available from the CMDI MdSelflink.
        metric_test_score: 2
        metric_test_requirements:
          - x-function: 'matches($value, ''\d{4,9}/[-._;()/:A-Z0-9]+$'', ''i'')'
            values: '//cmd:MdSelfLink'
            modality: all
    created_by: CLARIAH-FIP
    date_created: 2023-03-01
    date_updated: 2020-11-25
    version: 0.1

  - metric_identifier: CLFIP-F1-M2D
    metric_number: M2
    metric_name: Dataset persistent identifier
    metric_description: What globally unique, persistent, resolvable identifiers do you use for datasets?
    fair_principle: F1
    target: Data
    modality: any
    max_score: 3
    metric_tests:
      - metric_test_identifier: CLFIP-F1-M2D-1
        metric_test_name: DOI schema available from the CMDI MdSelflink.
        metric_test_score: 3
        metric_test_requirements:
          - x-function: 'matches($value, ''10.\d{4,9}/[-._;()/:A-Z0-9]+$'', ''i'')'
            values: '//cmd:ResourceProxyList/cmd:ResourceProxy[cmd:ResourceType/text() ="Resource"]/cmd:ResourceRef'
            modality: any
      - metric_test_identifier: CLFIP-F1-M2D-2
        metric_test_name: HDL schema available from the CMDI MdSelflink.
        metric_test_score: 2
        metric_test_requirements:
          - x-function: 'matches($value, ''10.\d{4,9}/[-._;()/:A-Z0-9]+$'', ''i'')'
            values: '//cmd:ResourceProxyList/cmd:ResourceProxy[cmd:ResourceType/text() ="Resource"]/cmd:ResourceRef'
            modality: any
      - metric_test_identifier: CLFIP-F1-M2D-3
        metric_test_name: URL schema available from the CMDI MdSelflink.
        metric_test_score: 1
        metric_test_requirements:
          - x-function: 'matches($value, ''^https?://(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}'')'
            values: '//cmd:ResourceProxyList/cmd:ResourceProxy[cmd:ResourceType/text() ="Resource"]/cmd:ResourceRef'
            modality: all
    created_by: CLARIAH-FIP
    date_created: 2024-02-29
    date_updated: 2024-03-07
    version: 0.1


#  - metric_identifier: CLFIP-F1-01D
#    metric_number: 3
#    metric_short_name: Unique dataset identifier
#    metric_name: Data MUST be assigned a unique identifier.
#    description: We make a distinction between the uniqueness and persistence of an identifier. Datasets MUST be identified by a unique identifier.
#    fair_principle: F1
#    target: Data
#    evaluation_mechanism: A unique identifier is considered to be valid if the given identifier scheme is DOI, HANDLE or URL.
#    test_scoring_mechanism: alternative
#    metric_tests:
#      - metric_test_identifier: CLFIP-F1-01D-1
#        metric_test_name: Identifier has a persistent identifier scheme of either DOI or HANDLE
#        metric_test_score: 1
#        metric_test_maturity: 3
#        metric_test_requirements:
#          - value: "//cmd:Resources/cmd:ResourceProxyList/cmd:ResourceProxy[cmd:ResourceType/text()='Resource']/cmd:ResourceRef/text()"
#            target: Identifier type
#            modality: any
#            comment: Identifier from Resource ResourceProxy.
#            required:
#              name:
#                - DOI
#                - HANDLE
#      - metric_test_identifier: CLFIP-F1-02D-2
#        metric_test_name: Identifier is a valid URL
#        metric_test_requirements:
#          - value: "//cmd:Header/cmd:MdProfile/text()"
#            target: Identifier type
#            modality: any
#            comment: Identifier from Resource ResourceProxy.
#            required:
#              name:
#                - URL
#        metric_test_score: 1
#        metric_test_maturity: 3
#    created_by: CLARIAH-FIP
#    date_created: 2023-03-01
#    date_updated: 2023-03-01
#    version: 0.1
#    total_score: 1
